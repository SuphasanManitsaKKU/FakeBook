<div class="search-container bg-white shadow-md rounded-lg p-6 w-full max-w-lg mx-auto mt-10">
    <h2 class="text-xl font-bold text-gray-800 mb-4">ค้นหาผู้ใช้</h2>

    <!-- Input ค้นหา -->
    <div class="relative">
        <input type="text" placeholder="ค้นหาเพื่อน..." [(ngModel)]="username" (input)="searchUsers()"
            class="w-full px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700" />
        <svg class="absolute right-3 top-3 h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-4.35-4.35M16.65 16.65a7 7 0 111.4-1.4l4.35 4.35z"></path>
        </svg>
    </div>

    <!-- สถานะการโหลด -->
    <div *ngIf="loading" class="mt-4 text-blue-500">
        กำลังค้นหา...
    </div>

    <!-- ข้อผิดพลาด -->
    <div *ngIf="error" class="mt-4 text-red-500">
        {{ error }}
    </div>

    <!-- แสดงผลลัพธ์เมื่อมีค่าใน input และผู้ใช้มากกว่า 0 -->
    <ul *ngIf="username && users.length > 0" class="mt-6 space-y-4">
        <li *ngFor="let user of users"
            class="flex items-center space-x-4 cursor-pointer hover:bg-gray-100 p-2 rounded-lg"
            (click)="navigateToUser(user.id)">
            <img [src]="user.imageProfile || 'favicon.ico'" alt="Profile"
                class="h-12 w-12 rounded-full object-cover" />
            <span class="font-medium text-gray-800">{{ user.username }}</span>
        </li>
    </ul>


    <!-- ไม่มีผลลัพธ์ -->
    <div *ngIf="username && !loading && users.length === 0 && !error" class="mt-6 text-gray-500">
        ไม่มีผู้ใช้ที่ค้นหา
    </div>
</div>