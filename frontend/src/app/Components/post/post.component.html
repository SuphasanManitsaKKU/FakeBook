<div class="bg-white rounded-lg shadow-lg p-6 mb-4">
  <div class="post-header mb-4 flex justify-between items-center">
    <div class="flex items-center cursor-pointer" (click)="navigateToUser()">
      <!-- ‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏π‡πâ‡πÇ‡∏û‡∏™‡∏ï‡πå -->
      <img
        [src]="post?.user?.imageProfile ?? 'default-profile.png'"
        alt="Profile Image"
        class="w-12 h-12 rounded-full mr-3 hover:opacity-80 transition"
      />
      <div>
        <p class="text-lg font-semibold hover:underline">{{ post?.user?.username }}</p>
        <p class="text-sm text-gray-500">{{ post?.timestamp | date:'medium' }}</p>
      </div>
    </div>

    <!-- ‡πÄ‡∏°‡∏ô‡∏π‡∏à‡∏∏‡∏î‡∏™‡∏≤‡∏°‡∏à‡∏∏‡∏î -->
    <div class="relative">
      <button class="text-gray-600 hover:text-gray-800 p-2" (click)="togglePostMenu()">
        &#x22EE;
      </button>
      <div *ngIf="showPostMenu" class="absolute right-0 mt-2 w-40 bg-white border rounded-md shadow-lg z-50">
        <button class="block w-full text-left px-4 py-2 text-yellow-500 hover:bg-gray-100" (click)="startEdit()">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
        <button class="block w-full text-left px-4 py-2 text-red-500 hover:bg-gray-100" (click)="deletePost()">üóëÔ∏è ‡∏•‡∏ö</button>
      </div>
    </div>
  </div>

  <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏û‡∏™‡∏ï‡πå -->
  <div *ngIf="editing">
    <textarea [(ngModel)]="editedContent" class="w-full p-2 border rounded-md"></textarea>
    <div class="flex gap-2 mt-2">
      <button class="bg-green-500 text-white py-1 px-2 rounded-md" (click)="saveEdit()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      <button class="text-gray-500" (click)="cancelEdit()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
    </div>
  </div>

  <!-- ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÇ‡∏û‡∏™‡∏ï‡πå -->
  <div *ngIf="!editing">
    <p class="text-lg text-gray-700">{{ post?.content }}</p>
  </div>

  <div class="post-actions flex gap-4 mt-4">
    <button class="bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600" (click)="toggleLike()">
      ‡πÑ‡∏î‡∏Ñ‡πå ({{ post?.likeAmount }})
    </button>
    <button class="bg-yellow-500 text-white py-2 px-4 rounded-md hover:bg-yellow-600" (click)="toggleComments()">
      ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô ({{ post?.commentAmount }})
    </button>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏ä‡∏£‡πå -->
    <div class="relative">
      <button class="bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600" (click)="toggleShareOptions()">
        ‡πÅ‡∏ä‡∏£‡πå ({{ post?.shareAmount }})
      </button>
      <div *ngIf="showShareOptions" class="absolute bg-white border rounded-md mt-2 shadow-lg p-2 z-50">
        <button class="block w-52 text-left px-2 py-2 hover:bg-gray-200" (click)="copyLink()">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå</button>
        <button class="block w-52 text-left px-2 py-2 hover:bg-gray-200" (click)="shareToFeed()">üì¢ ‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà Feed</button>
      </div>
    </div>
  </div>

  <!-- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå -->
  <div class="post-comments" *ngIf="showComments">
    <!-- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å <app-comment> ‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡∏Å (commentAdded) ‡∏Å‡∏±‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏ô PostComponent -->
      <app-comment
      [postId]="postId"
      (commentAdded)="onCommentChange()"
      (commentDeleted)="onCommentChange()"
    ></app-comment>
    
  </div>
</div>
